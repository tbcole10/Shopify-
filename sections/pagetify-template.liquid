<!-- THE SECTION AUTO-GENERATED BY PAGETIFY, PLEASE DO NOT MODIFY. -->

{% assign pageKey = 'pagetify-' | append: section.settings.type | append: '-' | append: section.settings.templateId %}

<div class="pe-content {{section.settings.width}}">
  <link rel="stylesheet" href="{{ pageKey | append: '.css' | asset_url }}">

  {% if section.settings.type == 'product' %}
    {% assign currentProduct = product %}
  {% endif %}

  {% if section.settings.type == 'collection' %}
    {% assign currentCollection = collection %}
  {% endif %}

  {% capture pagetifyWidget %}{% include pageKey %}{% endcapture %}
  
  {% unless pagetifyWidget contains "Liquid error" %}
    {{ pagetifyWidget }}
  {% endunless %}

  {% if section.settings.type == 'product' %}
    {% assign product = currentProduct %}
  {% endif %}

  {% if section.settings.type == 'collection' %}
    {% assign collection = currentCollection %}
  {% endif %}

  <script defer src="{{ pageKey | append: '.js' | asset_url }}"></script>
</div>

{% schema %}
  {
    "name": "Pagetify template",
    "settings": [
      {
        "type": "header",
        "content": "The Section Auto-generated by [Pagetify](https:\/\/apps.shopify.com/pagetify)."
      },
      {
        "type": "header",
        "content": "Configured",
        "info": "Please do not change any configuration in this section."
      },
      {
        "type": "select",
        "id": "type",
        "label": "Type",
        "default": "landing",
        "options": [
          {
            "value": "product",
            "label": "Product"
          }, {
            "value": "collection",
            "label": "Collection"
          }, {
            "value": "landing",
            "label": "Landing"
          }, {
            "value": "article",
            "label": "Blog Post"
          }
        ]
      },
      {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "boxed",
        "options": [
          {
            "value": "",
            "label": "Auto"
          }, {
            "value": "boxed",
            "label": "Boxed"
          }
        ]
      }, {
        "type": "text",
        "id": "templateId",
        "label": "Pagetify template id",
        "default": "default"
      }
    ]
  }
{% endschema %}