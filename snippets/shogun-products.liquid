{% comment %}
Auto-generated by Shogun.
This file can be re-written at any time.
{% endcomment %}

{% assign handles = content.metafields.shogun.products | split: "," | slice: 0, 20 %}
{% if handles.size > 0 %}
  <script type="text/javascript">
    window.__shgProducts = window.__shgProducts || {};
    {% for handle in handles %}
      {% assign currentProduct = all_products[handle] %}
      {% if currentProduct != blank %}
        window.__shgProducts["{{handle}}"] = {{currentProduct | json }};
      {% endif %}
    {% endfor %}
  </script>
{% endif %}

{% if cart and cart.currency and cart.currency.iso_code %}
  <script type="text/javascript">
    {% if 'shopify' == 'shopify' %}
      window.__shgMoneyFormat = window.__shgMoneyFormat || {"AED":{"currency":"AED","currency_symbol":"د.إ","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"AUD":{"currency":"AUD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"CAD":{"currency":"CAD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"CHF":{"currency":"CHF","currency_symbol":"CHF","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"CZK":{"currency":"CZK","currency_symbol":"Kč","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"DKK":{"currency":"DKK","currency_symbol":"kr.","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"EUR":{"currency":"EUR","currency_symbol":"€","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"GBP":{"currency":"GBP","currency_symbol":"£","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"HKD":{"currency":"HKD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"ILS":{"currency":"ILS","currency_symbol":"₪","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"JPY":{"currency":"JPY","currency_symbol":"¥","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"KRW":{"currency":"KRW","currency_symbol":"₩","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"MXN":{"currency":"MXN","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"MYR":{"currency":"MYR","currency_symbol":"RM","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"NGN":{"currency":"NGN","currency_symbol":"₦","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"NZD":{"currency":"NZD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"PLN":{"currency":"PLN","currency_symbol":"zł","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"SEK":{"currency":"SEK","currency_symbol":"kr","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"SGD":{"currency":"SGD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","},"USD":{"currency":"USD","currency_symbol":"$","currency_symbol_location":"left","decimal_places":2,"decimal_separator":".","thousands_separator":","}};
    {% endif %}
    window.__shgCurrentCurrencyCode = window.__shgCurrentCurrencyCode || {
      currency: "{{ cart.currency.iso_code }}",
      currency_symbol: "{{ cart.currency.symbol }}",
      decimal_separator: ".",
      thousands_separator: ",",
      decimal_places: 2,
      currency_symbol_location: "left"
    };
  </script>
{% endif %}

{%- assign collections_meta = content.metafields.shogun.collections.value -%}
{%- if collections_meta.size > 0 -%}
  <script type="text/javascript">
    window.__shgProducts = window.__shgProducts || {};
    window.__shgCategories = window.__shgCategories || {};
    {%- for collection_meta in collections_meta %}
      {%- assign collection = collections[collection_meta.handle] -%}
      window.__shgCategories["{{collection.handle}}"] = window.__shgCategories["{{collection.handle}}"] || {{ collection | json }};
      window.__shgCategories["{{collection.handle}}"].products = window.__shgCategories["{{collection.handle}}"].products || [];
      {%- paginate collection.products by collection_meta.count -%}
        {%- for product in collection.products %}
          window.__shgProducts["{{product.handle}}"] = window.__shgProducts["{{product.handle}}"] || {{ product | json }};

          if (!window.__shgCategories["{{collection.handle}}"].products.find(product => product.id == {{ product.id }})) {
            window.__shgCategories["{{collection.handle}}"].products.push(window.__shgProducts["{{product.handle}}"]);
          };
        {%- endfor -%}
      {%- endpaginate -%}
    {%- endfor %}
  </script>
{%- endif -%}
